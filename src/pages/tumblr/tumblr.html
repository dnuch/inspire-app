<ion-header>
    <ion-navbar color="secondary">
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>
            Tumblr
        </ion-title>
    </ion-navbar>
</ion-header>
 
<ion-content padding-top>
    <ion-refresher (ionRefresh)="refreshBlog($event)">
        <ion-refresher-content pullingText="Pull to refresh" refreshingText="Refreshing..."></ion-refresher-content>
    </ion-refresher>
    <ion-list *ngIf="objectService.isObject(items)" text-wrap>
        <ion-item *ngFor="let item of items">
            <img *ngIf="objectService.isObject(item.photos)" src="{{item.photos[0].original_size.url}}" imageViewer/>
            <p *ngIf="!objectService.isObject(item.photos)" class="app-font-16" (click)="iab.create(item.post_url)">
                {{item.text}}&nbsp;â€”&nbsp;{{item.source}}&nbsp;
            </p>
            <p>
                <br>
                <ion-icon name="text">&nbsp;{{item.note_count}}</ion-icon>
            </p>
        </ion-item>
    </ion-list>
    <ion-item *ngIf="!objectService.isObject(items)" text-wrap>
        <p class="app-font-16" text-center>
            No items to show :(
            <br><br>
            Data is required to run this app, or Tumblr servers are down
            <br><br>
            Click to refresh
        </p>
        <p style="font-size:32px" text-center>
            <ion-icon (click)="getDefaults()" name="refresh"></ion-icon>
        </p>
    </ion-item>
    <ion-infinite-scroll *ngIf="objectService.isObject(items)" (ionInfinite)="morePosts($event)">
        <ion-infinite-scroll-content loadingText="Loading Posts..."></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
